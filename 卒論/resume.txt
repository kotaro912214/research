Abstract
Car sharing systems have been focusing on being new public transportation in Japan.
A number of agents and vhecles for the car sharing services have been drastically increasing since AD 2010.
A scale of car sharing business is expected to be larger based on Navigant Consulting by considering the relocation problem of one-way car sharing system.
Some studies optimized that problem by applying the integer linear programming based on CPLEX and identical greedy algorithm.
Therefore, this study also concerns that problem but employs the greedy algorithm for considering the relocation of customers and reducing the cost of employee relocation.

1. 研究背景
近年維持費など金銭面の影響を受け日本では東京など一部の地域で自家用車を所有する人が減少しており、
それに伴ってカーシェアリングの急速な普及が進んでいる。
事実2009年から2019年にかけて東京都における人口は12,908,856人から13,857,129人と
約94万人増加しているが、一方で軽自動車を含む自動車保有台数は3,164,227台から3,157,277台と
約7000台減少している。
図1に公益財団法人交通エコロジー・モビリティ財団によるカーシェアリングにおける車両台数と
会員数の推移を示す。
図1によると2010年以降を皮切りにカーシェアリングの会員数、車両数ともに年々増加傾向にあり、
2017年にはすでに会員数が100万人にもおよんでいる。
図1カーシェアリング車両台数と会員数の推移
カーシェアリングサービスは、貸し出し場所と返却場所が同一であるラウンド型と、貸出場所と返却場所が
異なるワンウェイ型に大別される。
このワンウェイ型にもステーションベースとフリーフローティングの二つのサービスがある。
ステーションベースでは専用の駐車デポを必要とするのに対して、フリーフローティングでは
ステーションを必要としないため、サービス提供地域内であれば駐車可能な路側帯や公共駐車場に返却できる。
日本においては法規制などにより、フリーフローティングでのサービス実現は困難であることから、ラウンド型が主流となっている。
一方でステーションベースのカーシェアリングも注目されており、実証実験を行った例が存在する。
最近ではタイムズ24とトヨタ自動車が共同でHa:moという超小型電気自動車を用いた
ワンウェイ型ステーションベースでの実証実験を豊田市や東京、沖縄など一部の地域で行った。
しかしワンウェイ型では車両の偏在が生じてしまい利用したいが車両が不足している、
もしくは車両を返却したいが駐車スペースが存在しないといった要求拒否が生じてしまう。
この問題を解消するため、車両の再配置が必要となるがコストがかかってしまう。
そのため車両を効率的に再配置するためのアルゴリズムや新たなシステムが必要である。

先行研究

先述したような車両の偏在によってステーションの空きがなくなり車両を返却できない、
もしくは利用可能な車両がステーションに存在しないことによるサービスの利用不可といった
リスクを回避することが再配車の主たる目的である。
これに対しUTBMのRabih Zakariaらはパリでのカーシェアリングサービスの実運用で得られたデータ
から作成したステーションの配置データと乗客の需要の予測データを用いて、
拒否される要求の数の最小化を目指した。
この問題を整数線形計画モデルとして定式化し、IBM社が提供するCPLEX Optimizerを用いて最適化を行った。
これに加えて、独自の貪欲法によるシミュレーションも行った。
これらを比較すると貪欲法を用いることで最も複雑な条件下であってもこの問題をより早く解決することができると結論づけられた。
一方でステーション間の移動にかかる時間を簡単のため考慮していなかった。

研究目的

本研究の目的は従業員以外に利用者による再配置を考慮することで、
再配置によるコスト削減を図ることである。
そのため、先行研究における再配置問題へのアプローチを基に、
独自に定義した報酬によって意思決定を行う利用者モデルをシステムに組み込む。
更に日本におけるシステムの有効性を考えるため、
実際の地図データやステーション配置、移動時間、それに伴うコストなどを考慮したシュミレーションを行う。

研究手法

システム構成
再配置問題を扱う上でステーション間の距離や移動時間その際に係る運用コストなどの正確なデータが必要となる今回は日本で運用されている中でも入手難易度の観点から三井不動産リアルティ株式会社が運営するカレコカーシェアリングのステーションデータを用いるデータを扱う際には地理情報や経路検索に長けている NAVITIME API を経由することとする

使用するデータ

本研究ではシュミレーションで利用するデータの作成から始めるステーション数が一定の値をとるかかんに範囲を絞りそれらの地図データからカレコカーシェアリングにより運営されているステーションの位置を取得するこれによりステーションの情報として各ステーションの座標各ステーション間の距離及び移動時間が得られる

移動時間を考慮したモデル
本研究では移動時間や距離を考慮する必要があるそのため先行研究をもとに第3子を追加した最適な選択を決定する際のコスト関数を式（1）に示す

正しいをここで E は再配置によって取り除かれる拒否される要求の数 G は再配置によって新たに生成される拒否される要求の数 TG はその要求が生成されると考えられる時間 TE は その要求が取り除かれると考えられる時間のことである新たに導入した変数 WT と tij はそれぞれ移動時間の重みとステーションi、j間の重みである
同様にデルタは以下の式（２）にて表わされる

また先行研究では簡単のため単位ステップ時間を15分としていたが本研究では単位ステップ時間を1分とする

利用者の協力による再配置

利用者の協力のもとを再配置を行うためには行動に応じた報酬を与える方法が考えられる本研究では電車の行動に応じた報酬を用意することで潜在的利用者の協力を期待する利用者が報酬によって再配置を実行するかどうかが決定については確率 P でいかの式かっこ3で定義する

 WP は重み付け係数である
また報酬に関しては実際に従業員が再配置を行った時と報酬を比較しその比をkとして式かっこ4に示す

ここで ceci jcii javed はそれぞれ従業員良いを1日雇うコストステーションあい J 間の移動にかかるコストステーション IJ 間の移動に支払うコスト一日一台あたりの平均トリップ数のことであるしきさんと4により報酬額や移動時間により利用者が再配置要求を引き受けるかどうか決定する確率モデルを定義する 
この確率を用いることで利用者が再配置を行うかどうかを決定することができもし再配置を従業員が行う場合にはコストを通常通りに観覧しそうでない場合には報酬の支払いとしてコストを加算するこれらによって求められたコストを従来の目的関数に組み込む最小化することで最適な報酬額を決定することができる
今後の展望
現在までに利用者の意思決定モデルシミュレーションの構造などを行った今後の予定を以下の表1に示す 
